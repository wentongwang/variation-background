(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cd850ec4"],{"0b05":function(e,o,t){"use strict";t("8f91")},"8f91":function(e,o,t){},aa01:function(e,o,t){"use strict";t("b2f5")},b2f5:function(e,o,t){},f243:function(e,o,t){"use strict";t.r(o);var s=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",{staticClass:"forgot-container"},[t("el-form",{ref:"forgotForm",staticClass:"login-form",attrs:{model:e.forgotForm,rules:e.forgotRules,autocomplete:"on","label-position":"left"}},[t("div",{staticClass:"title-container"},[t("h3",{staticClass:"title"},[e._v(e._s(e.$t("forgotPassword.title")))])]),t("el-form-item",{attrs:{prop:"email"}},[t("span",{staticClass:"svg-container"},[t("i",{staticClass:"el-icon-message"})]),t("el-input",{ref:"email",attrs:{placeholder:e.$t("forgotPassword.email"),name:"email",type:"text",tabindex:"1",autocomplete:"off"},model:{value:e.forgotForm.email,callback:function(o){e.$set(e.forgotForm,"email",o)},expression:"forgotForm.email"}})],1),t("el-form-item",{attrs:{prop:"emailCode"}},[t("span",{staticClass:"svg-container"},[t("i",{staticClass:"el-icon-chat-line-round"})]),t("el-input",{ref:"emailCode",staticClass:"sendCodeInput",attrs:{maxlength:"6",placeholder:e.$t("register.emailCode"),name:"emailCode",type:"text"},model:{value:e.forgotForm.emailCode,callback:function(o){e.$set(e.forgotForm,"emailCode",o)},expression:"forgotForm.emailCode"}}),t("el-button",{staticClass:"sendCodeBtn",attrs:{type:"primary",disabled:e.SendCodeDisabled,plain:""},nativeOn:{click:function(o){return o.preventDefault(),e.handleSendCode.apply(null,arguments)}}},[e._v(e._s(this.sendCodeBtnContent))])],1),t("el-form-item",{attrs:{prop:"password"}},[t("span",{staticClass:"svg-container"},[t("i",{staticClass:"el-icon-key"})]),t("el-input",{ref:"password",attrs:{placeholder:e.$t("forgotPassword.password"),name:"password",type:"password",autocomplete:"off"},model:{value:e.forgotForm.password,callback:function(o){e.$set(e.forgotForm,"password",o)},expression:"forgotForm.password"}})],1),t("el-form-item",{attrs:{prop:"checkPass"}},[t("span",{staticClass:"svg-container"},[t("i",{staticClass:"el-icon-key"})]),t("el-input",{ref:"checkPass",attrs:{placeholder:e.$t("forgotPassword.checkPass"),name:"checkPass",type:"password",autocomplete:"off"},model:{value:e.forgotForm.checkPass,callback:function(o){e.$set(e.forgotForm,"checkPass",o)},expression:"forgotForm.checkPass"}})],1),t("el-button",{staticStyle:{width:"100%","margin-bottom":"10px"},attrs:{loading:e.loading,type:"primary"},nativeOn:{click:function(o){return o.preventDefault(),e.handleForgot.apply(null,arguments)}}},[e._v(e._s(e.$t("forgotPassword.handleForgot")))])],1),t("div",{staticClass:"forgot-container"},[t("span",{staticClass:"title"},[e._v(e._s(e.$t("forgotPassword.loginTitle"))),t("el-link",{attrs:{type:"primary"},nativeOn:{click:function(o){return o.preventDefault(),e.handleToLogin.apply(null,arguments)}}},[e._v(e._s(e.$t("forgotPassword.toLogin")))])],1)])],1)},a=[],r=t("c24f"),n={name:"forgotPassword",data:function(){var e=this,o=function(o,t,s){var a=/^\w[-\w.+]*@([A-Za-z0-9][-A-Za-z0-9]+\.)+[A-Za-z]{2,14}/;a.test(t)?s():s(new Error(e.$t("register.validateEmail")))},t=function(o,t,s){""===t?s(new Error("请输入密码")):t.length<8?s(new Error("密码不得少于8位数")):(""!==e.forgotForm.checkPass&&e.$refs.forgotForm.validateField("checkPass"),s())},s=function(o,t,s){""===t?s(new Error("请再次输入密码")):t!==e.forgotForm.password?s(new Error("两次输入密码不一致!")):s()};return{loading:!1,SendCodeDisabled:!1,sendCodeBtnContent:this.$t("forgotPassword.sendCode"),forgotForm:{email:"",emailCode:"",password:"",checkPass:""},forgotRules:{email:[{required:!0,trigger:"blur",validator:o}],emailCode:[{required:!0,trigger:"blur"}],password:[{required:!0,trigger:"blur",validator:t}],checkPass:[{required:!0,trigger:"blur",validator:s}]}}},created:function(){},mounted:function(){},destroyed:function(){},methods:{handleSendCode:function(){var e=this,o=/^\w[-\w.+]*@([A-Za-z0-9][-A-Za-z0-9]+\.)+[A-Za-z]{2,14}/,t=this;this.SendCodeDisabled=!0,o.test(this.forgotForm.email)?Object(r["c"])({email:this.forgotForm.email}).then((function(o){if(500===o.code)t.SendCodeDisabled=!1,e.$message({message:e.$t("forgotPassword.sendCodeErrorMessage"),type:"error"});else if(201===o.code)t.SendCodeDisabled=!1,e.$message({message:e.$t("forgotPassword.isReregistedMessage"),type:"error"});else{e.$message({message:e.$t("forgotPassword.sendCodeSuccessMessage"),type:"success"});var s=60,a=setInterval((function(){s-=1,t.sendCodeBtnContent=s,0===s&&(clearInterval(a),t.SendCodeDisabled=!1,t.sendCodeBtnContent=t.$t("forgotPassword.sendCode"))}),1e3)}})):t.SendCodeDisabled=!1},handleForgot:function(){var e=this;this.$refs.forgotForm.validate((function(o){if(!o)return console.log("error submit!!"),!1;e.loading=!0,Object(r["b"])(e.forgotForm).then((function(o){200===o.code?(e.forgotForm={email:"",emailCode:"",password:"",checkPass:""},e.$message({message:e.$t("forgotPassword.successMessage"),type:"success"})):201===o.code?e.$message({message:e.$t("forgotPassword.warnMessage"),type:"warning"}):e.$message({message:e.$t("forgotPassword.errorMessage"),type:"error"}),e.loading=!1})).catch((function(){e.loading=!1}))}))},handleToLogin:function(){this.$router.push({path:"/login"})}}},i=n,l=(t("aa01"),t("0b05"),t("2877")),d=Object(l["a"])(i,s,a,!1,null,"2446a30b",null);o["default"]=d.exports}}]);